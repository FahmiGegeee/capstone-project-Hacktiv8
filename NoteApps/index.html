<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Notes App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="Logo\Logo_Lightmode.png" class="logo-image light-logo" alt="NoteApps Logo Light" />
                <img src="Logo\Logo_Darkmode.png" class="logo-image dark-logo" alt="NoteApps Logo Dark" />
            </div>
            <div class="tags-section scrollable-tags">
                <div class="tags-header">
                    <h3>Tags</h3>
                    <button id="add-tag-btn" class="icon-button"><i class="fas fa-plus"></i></button>
                </div>
                <div class="tag-list-wrapper">
                    <ul id="tag-list" class="tag-list"></ul>
                </div>
            </div>
            <button id="add-note-btn" class="add-note-button"><i class="fas fa-plus"></i> Add Note</button>
        </aside>
        
        <div class="main-content-wrapper">
            <main class="main-content">
                <header class="main-header">
                    <div class="search-bar">
                        <input type="text" id="search-input" placeholder="Search your note...">
                        <button id="search-button"><i class="fas fa-search"></i></button>
                    </div>
                    <div class="dark-mode-toggle">
                        <div class="sort-dropdown">
                            <select id="sort-select">
                                <option value="latest" selected>Sort by Latest</option>
                                <option value="title-asc">Note title A-Z</option>
                                <option value="title-desc">Note title Z-A</option>
                                <option value="due-soonest">Due date (Closest)</option>
                                <option value="due-latest">Due date (Farthest)</option>
                            </select>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="dark-mode-switch">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </header>
                <div class="notes-scroll-container">
                    <div id="notes-grid" class="notes-grid"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal: Add Tag -->
    <div id="tag-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-tag-modal">&times;</span>
            <h2>Add New Tag</h2>
            <form id="tag-form">
                <div class="form-group">
                    <label for="tag-name">Tag Name:</label>
                    <input type="text" id="tag-name" required>
                </div>
                <button type="submit" class="submit-button">Add Tag</button>
            </form>
        </div>
    </div>

    <!-- Modal: Confirm Delete -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-delete-modal">&times;</span>
            <h2>Confirm Delete</h2>
            <p style="text-align: center;">Are you sure you want to delete this note?</p>
            <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
                <button id="cancel-delete" class="submit-button" style="background-color: grey;">Cancel</button>
                <button id="confirm-delete" class="submit-button">Delete</button>
            </div>
        </div>
    </div>

    <!-- Modal: View Note -->
    <div id="view-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-view-modal">&times;</span>
            <h2 id="view-title">Note Title</h2>
            <p><strong>Tag:</strong> <span id="view-tag"></span></p>
            <p><strong>Due Date:</strong> <span id="view-due-date"></span></p>
            <p><strong>Content:</strong></p>
            <div id="view-content" style="white-space: pre-wrap; margin-bottom: 20px;"></div>
            <div style="text-align: right; font-size: 0.9em; color: gray;">
                Last edited: <span id="view-time"></span> - <span id="view-date"></span>
            </div>
        </div>
    </div>

    <!-- Modal: Add/Edit Note -->
    <div id="note-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-note-modal">&times;</span>
            <h2 id="modal-title">Add New Note</h2>
            <form id="note-form">
                <div class="form-group">
                    <label for="note-title">Title:</label>
                    <input type="text" id="note-title" required>
                </div>
                <div class="form-group" id="tag-dropdown-wrapper" style="position: relative;">
                    <label for="note-tag-input">Tag:</label>
                    <div class="dropdown-input-wrapper">
                        <input type="text" id="note-tag-input" placeholder="Select a tag" readonly />
                        <span class="dropdown-icon">&#9662;</span> <!-- â–¼ -->
                    </div>
                    <ul id="custom-tag-dropdown" class="custom-tag-dropdown"></ul>
                </div>
                <div class="form-group">
                    <label for="note-due-date">Due Date:</label>
                    <input type="date" id="note-due-date" />
                </div>
                <div class="form-group">
                    <label for="note-content">Content:</label>
                    <textarea id="note-content" rows="8"></textarea>
                </div>
                <button type="submit" class="submit-button">Save Note</button>
            </form>
        </div>
    </div>

    <!-- Modal: Alert -->
    <div id="alert-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-alert-modal">&times;</span>
            <h2 style="text-align: center;">Warning</h2>
            <p id="alert-message" style="text-align: center;">Tag already exists! Make a new one</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>